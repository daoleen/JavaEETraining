apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'war'

sourceCompatibility = 1.7
version = '1.0'

repositories {
    mavenCentral()
}

// Need to be enabled the gradle plugin "war"
configurations {
    provided
    provided.extendsFrom(compile)
}

dependencies {

    // Data
    compile 'org.hibernate:hibernate-entitymanager:4.3.0.Final'
    compile 'org.apache.openjpa:openjpa-all:2.3.0'
    compile 'org.hibernate:hibernate-validator:4.3.1.Final'	// HIBERNATE VALIDATOR!!! Версия именно 4. С пятой глюки =)

    // For H2 Advanced Configuration
    compile 'commons-dbcp:commons-dbcp:1.4'
    compile 'com.h2database:h2:1.3.175'

    compile 'org.thymeleaf:thymeleaf:2.1.3.RELEASE'

    providedCompile 'javax:javaee-api:7.0'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

idea {
    module {
        jdkName = '1.8'
        scopes.PROVIDED.plus += configurations.provided
        downloadSources = true
        downloadJavadoc = true
    }
}